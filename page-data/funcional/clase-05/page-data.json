{"componentChunkName":"component---src-templates-blog-post-js","path":"/funcional/clase-05/","webpackCompilationHash":"f23ba4374d56e5114c79","result":{"data":{"site":{"siteMetadata":{"title":"BitÃ¡cora","author":"pdep"}},"markdownRemark":{"id":"fad8042d-4ee3-5cf7-9f4e-9da53b6b3970","excerpt":"Tarea para la clase que viene: Realizar el TP Monopoly y entregarlo por GitHub. De forma opcional pero muy recomendable se puede hacer la guÃ­a de uso de consolaâ€¦","html":"<h2 id=\"tarea-para-la-clase-que-viene\"><a href=\"#tarea-para-la-clase-que-viene\" aria-label=\"tarea para la clase que viene permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea para la clase que viene:</h2>\n<ul>\n<li>Realizar el <a href=\"https://docs.google.com/document/d/1EAN_RC2zngF1jiy4MGCuLvYQvr1euHj1Xx4ORiDh-nE/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TP Monopoly</a> y <strong>entregarlo por GitHub</strong>.</li>\n<li>De forma opcional pero <em>muy recomendable</em> se puede hacer la guÃ­a de <a href=\"https://mumuki.io/pdep-utn/chapters/438-control-de-versiones\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">uso de consola y Git de Mumuki</a>.</li>\n<li>TambiÃ©n de forma opcional se pueden hacer las guÃ­as de Mumuki de <a href=\"https://mumuki.io/pdep-utn/lessons/743-programacion-funcional-expresiones-lambda\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Expresiones Lambda</a> y <a href=\"https://mumuki.io/pdep-utn/lessons/745-programacion-funcional-modelado\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Data</a>.</li>\n</ul>\n<h2 id=\"Â¿quÃ©-vimos-hoy\"><a href=\"#%C2%BFqu%C3%A9-vimos-hoy\" aria-label=\"Â¿quÃ© vimos hoy permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Â¿QuÃ© vimos hoy?</h2>\n<p>Volvimos al TP de la clase pasada <a href=\"https://docs.google.com/document/d/11uYGXvG-TnNhveawDjKD1iSWKW9Qy8PVqlvtHhV58F8/edit\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TP â€œHora de lecturaâ€</a> para seguir trabajando con Ã©l y agregando nuevos ejercicios. ğŸ™Œ </p>\n<p>Queremos saber de quÃ© gÃ©nero es un libro. Eso va a depender de:</p>\n<ul>\n<li>Si tiene menos de 50 pÃ¡ginas, es un cÃ³mic. ğŸ’¬</li>\n<li>Si el autor es Stephen King, es de terror. ğŸ¤¡</li>\n<li>Si el autor es japonÃ©s, es un manga. ğŸ—¾</li>\n<li>En cualquier otro caso, no sabemos el gÃ©nero. ğŸ¤·</li>\n</ul>\n<p>Aprendimos cÃ³mo ver si un libro tiene cierta de cantidad de pÃ¡ginas o si es de un autor en especial peroâ€¦ Â¿cÃ³mo averiguamos la nacionalidad de un autor? ğŸ˜… Â¿DeberÃ­amos agregar la nacionalidad del autor en cada libro? Â¡Momento âœ‹! SÃ³lo interesa saber quiÃ©nes son de JapÃ³n y, como en nuestra soluciÃ³n, el Ãºnico autor japonÃ©s es <em>â€œHajime Isayamaâ€</em>, no tendrÃ­a sentido agregar mÃ¡s informaciÃ³n a cada libro. La forma mÃ¡s fÃ¡cil de resolverlo es con una funciÃ³n:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">esJapones</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Autor</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">esJapones</span> <span class=\"token string\">\"Hajime Isayama\"</span> <span class=\"token operator\">=</span> <span class=\"token constant\">True</span>\n<span class=\"token hvariable\">esJapones</span> <span class=\"token hvariable\">_</span> <span class=\"token operator\">=</span> <span class=\"token constant\">False</span></code></pre></div>\n<p>Â¡Ya tenemos lo necesario para definir la funciÃ³n <code class=\"language-text\">genero</code>! </p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">genero</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">String</span>\n<span class=\"token hvariable\">genero</span> <span class=\"token hvariable\">unLibro</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token operator\">></span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">cantidadDePaginas</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Comic\"</span>\n  <span class=\"token operator\">|</span> <span class=\"token hvariable\">esDe</span> <span class=\"token string\">\"Stephen King\"</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Terror\"</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">esJapones</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">autor</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Manga\"</span>\n  <span class=\"token operator\">|</span> <span class=\"token builtin\">otherwise</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"No clasificado\"</span></code></pre></div>\n<p>RecordÃ¡ no olvidarte el <code class=\"language-text\">otherwise</code> cuando utilices guardas ya que es donde entra todo lo que no abarcan las guardas de encima de Ã©l. Y, Â¿por quÃ© pasa eso? ğŸ¤” Resulta que <code class=\"language-text\">otherwise</code> es un sinÃ³nimo de <code class=\"language-text\">True</code>, por lo que siempre se va a poder entrar por esa condiciÃ³n cuando no se no cumplan ninguna de las demÃ¡s. Utilizamos <code class=\"language-text\">otherwise</code> porque es mÃ¡s expresivo.</p>\n<p>La clase anterior contamos en quÃ© situaciones <strong>no</strong> usar las guardas âŒ. Pero el caso de arriba es cuando sÃ­ queremos usarlas âœ”ï¸. Entonces, Â¿cuÃ¡ndo usar guardas y cuando pattern matching? ğŸ˜©\nUsamos pattern matching cuando tenemos algo que encaja con un patrÃ³n, por ejemplo una tupla de 3 elementos, una lista vacÃ­a, etc. ğŸ§©\nUsamos guardas cuando queremos evaluar conjuntos de dominios (en matemÃ¡tica, esto es muy similar a las funciones partidas). ğŸ”€</p>\n<p>Â¡Excelente! Ya tenemos funcionando la funciÃ³n <code class=\"language-text\">genero</code> ğŸ‰. Â¿QuÃ© pasa si le mandamos como argumento una tupla que representa a una persona? No deberÃ­a funcionar porque explicitamos en su tipo que recibÃ­a un <code class=\"language-text\">Libro</code>â€¦ Veamos quÃ© pasa con la tupla que representa a nuestro querido profe Gus: ğŸ‘€</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">genero</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"Gustavo\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Trucco\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">28</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">></span> <span class=\"token string\">\"Comic\"</span></code></pre></div>\n<p>Â¿Â¡Entonces el profe es un cÃ³mic!? ğŸ˜± Ya quisiera, pero no lo es. Lo que pasÃ³ es que si bien dijimos que <code class=\"language-text\">genero</code> funciona sÃ³lo con <code class=\"language-text\">Libro</code>s, un <code class=\"language-text\">Libro</code> es una tupla de tipo <code class=\"language-text\">(String, String, Int)</code>, Â¡el mismo tipo que la tupla que representa a una persona! ğŸ˜…\nRecordÃ¡ que al usar el type alias, <strong>no estamos creando un nuevo tipo de dato</strong>, sino que le estamos dando un nombre a una estructura que tiene sentido para nuestra soluciÃ³n y asÃ­ ganar expresividad.</p>\n<p>Entonces, Â¿cÃ³mo lo solucionamos? ğŸ¤¨ Creando nuestro propio tipo de dato con <strong>Data</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token constant\">String</span> <span class=\"token constant\">Autor</span> <span class=\"token constant\">Int</span></code></pre></div>\n<p>En donde <code class=\"language-text\">UnLibro</code> es una funciÃ³n que llamamos <strong>constructor</strong> y su tipo es <code class=\"language-text\">UnLibro :: String -&gt; Autor -&gt; Int -&gt; Libro</code>. Es decir, es una funciÃ³n que recibe los parÃ¡metros necesarios para crear un libro. </p>\n<p>Modelemos a â€œEl visitanteâ€:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token constant\">UnLibro</span> <span class=\"token string\">\"El visitante\"</span> <span class=\"token string\">\"Stephen King\"</span> <span class=\"token number\">592</span></code></pre></div>\n<p>Si quisiÃ©ramos probarlo en la consola, nos tirarÃ­a un error porque el data que construimos no es â€œmostrableâ€ ğŸ˜©. Es decir, Haskell no sabe cÃ³mo mostrar nuestro tipo de dato, pero lo solucionamos escribiendo <code class=\"language-text\">deriving Show</code> al final de la declaraciÃ³n del data: </p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token constant\">String</span> <span class=\"token constant\">Autor</span> <span class=\"token constant\">Int</span> <span class=\"token keyword\">deriving</span> <span class=\"token constant\">Show</span></code></pre></div>\n<p>Y entonces, Â¿quÃ© ventajas tenemos al usar data? Porque pareciera ser lo mismo que usar tuplas con el type alias ğŸ™„. La diferencia estÃ¡ en que, con el data, estamos creando nuestro propio tipo de dato y, gracias a eso, vamos a poder restringir a las funciones a que sÃ³lo funcionen con el tipo de dato que le decimos. Ahora, <code class=\"language-text\">genero</code> sÃ³lo va a recibir <code class=\"language-text\">Libro</code>s, de otra forma, romperÃ¡. ğŸ’¥\nOtra ventaja es que podemos utilizar data con <strong>record syntax</strong> y, de esta forma, nos genera automÃ¡ticamente los accessors:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">titulo</span> <span class=\"token operator\">::</span> <span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">autor</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Autor</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Int</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">deriving</span> <span class=\"token constant\">Show</span></code></pre></div>\n<p>En este caso tanto <code class=\"language-text\">libro</code> como <code class=\"language-text\">autor</code> y <code class=\"language-text\">cantidadDePaginas</code> son funciones (accessors) que van a acceder a cada elemento del data ğŸ™Œ. Â¿CÃ³mo nos damos cuenta? Porque estamos explicitando el tipo de cada una al momento de crear el tipo de dato.</p>\n<p>En conclusiÃ³n, ambas sintaxis para definir datas son equivalentes, solo que record syntax nos regala las funciones para acceder a las propiedades. ğŸ</p>\n<p>Por otro lado, si queremos comparar una instancia de data con otra, tenemos que decirle a Haskell que queremos que sean comparables. Â¿CÃ³mo hacemos eso? Agregando <code class=\"language-text\">Eq</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">titulo</span> <span class=\"token operator\">::</span> <span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">autor</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Autor</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Int</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">deriving</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Show</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">Eq</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Ahora vamos a modelar la funciÃ³n <code class=\"language-text\">agregarPaginas</code>. Â¿Esta funciÃ³n va a modificar al libro original? Â¡No! Los data, al igual que todo en funcional, siguen siendo inmutables. Por ende, la funciÃ³n nos devolverÃ¡ una copia del libro con la cantidad de pÃ¡ginas aumentada.</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">agregarPaginas</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">agregarPaginas</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">UnLibro</span> <span class=\"token hvariable\">unTitulo</span> <span class=\"token hvariable\">unAutor</span> <span class=\"token hvariable\">unaCantidadDePaginas</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">paginasAAgregar</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token hvariable\">unTitulo</span> <span class=\"token hvariable\">unAutor</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">unaCantidadDePaginas</span> <span class=\"token operator\">+</span> <span class=\"token hvariable\">paginasAAgregar</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Podemos hacer lo mismo con record syntax:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">agregarPaginas</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">agregarPaginas</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token hvariable\">paginasAAgregar</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">+</span>  <span class=\"token hvariable\">paginasAAgregar</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Es importante destacar que para devolver la nueva cantidad de pÃ¡ginas debemos sumar la cantidad de pÃ¡ginas original. Para eso, utilizamos el accessor <code class=\"language-text\">cantidadDePaginas</code> y es importante pasarle por parÃ¡metro <code class=\"language-text\">unLibro</code> para que pueda darnos el valor. No olvidar que <code class=\"language-text\">cantidadDePaginas</code> sigue siendo una funciÃ³n que necesita su parÃ¡metro.</p>\n<p>Â¿Quedan dudas? ğŸ˜• Â¡Veamos otro ejemplo! Definamos <code class=\"language-text\">sacarSecuela</code>, que agrega un â€œ2â€ al final del tÃ­tulo y cuyas pÃ¡ginas siempre serÃ¡n 400:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">sacarSecuela</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">sacarSecuela</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">titulo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token operator\">++</span> <span class=\"token string\">\" 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">titulo</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Lo sentÃ­s, Â¿no? Â¡El olor a repeticiÃ³n de lÃ³gica! ğŸ¤¢ En ambas estamos cambiando las pÃ¡ginas de alguna forma. AsÃ­ que vamos a abstraer esa lÃ³gica en la funciÃ³n <code class=\"language-text\">cambiarCantidadDePaginas</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token operator\">::</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token hvariable\">unaFuncion</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unaFuncion</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ahora la cantidad de pÃ¡ginas se cambia segÃºn el criterio (una funciÃ³n) que reciba por parÃ¡metro (concepto de <strong>Ã³rden superior</strong>). Peroâ€¦ en <code class=\"language-text\">sacarSecuela</code> no usÃ¡bamos una funciÃ³n, asignÃ¡bamos 400 y Â¡listo! ğŸ˜¨ Â¿CÃ³mo hacemos para utilizar esta nueva funciÃ³n? Con <code class=\"language-text\">const</code>, la cual recibe dos parÃ¡metros y siempre se queda con el primero:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">sacarSecuela</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">const</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token operator\"> . </span><span class=\"token hvariable\">cambiarTitulo</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">++</span> <span class=\"token string\">\" 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span></code></pre></div>\n<p>Y ya que estamosâ€¦ podemos abstraer el cambio de tÃ­tulo de forma similar al cambio de cantidad de pÃ¡ginas: ğŸŒš</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">cambiarTitulo</span> <span class=\"token operator\">::</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">String</span> <span class=\"token operator\">-></span> <span class=\"token constant\">String</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">cambiarTitulo</span> <span class=\"token hvariable\">unaFuncion</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">titulo</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unaFuncion</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">titulo</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nuestras funciones quedarÃ­an:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">agregarPaginas</span>' <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">agregarPaginas</span>' <span class=\"token hvariable\">algunLibro</span> <span class=\"token hvariable\">paginasAAgregar</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">+</span> <span class=\"token hvariable\">paginasAAgregar</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">algunLibro</span>\n\n<span class=\"token hvariable\">sacarSecuela</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">sacarSecuela</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">const</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token operator\"> . </span><span class=\"token hvariable\">cambiarTitulo</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">++</span> <span class=\"token string\">\" 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span></code></pre></div>\n<p>Pasemos ahora a modelar a las personas ğŸ‘©ğŸ‘¨. Las cuales tienen un nombre y un conjunto de libros que le gustan:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">type</span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">Libro</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">gustos</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">[</span><span class=\"token constant\">Libro</span><span class=\"token punctuation\">]</span>\n<span class=\"token hvariable\">gustos</span> <span class=\"token hvariable\">unaPersona</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">snd</span> <span class=\"token hvariable\">unaPersona</span></code></pre></div>\n<p>Para saber si a una persona le gusta un libro, definimos la funciÃ³n <code class=\"language-text\">leGusta</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">leGusta</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">leGusta</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token hvariable\">unaPersona</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">==</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">gustos</span> <span class=\"token hvariable\">unaPersona</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>De esta forma asumimos que a una persona siempre le gustan algunos libros. Ahora hagamos un cambio al modelado. En vez de tener los libros que le gustan a la persona, definamos un criterio por el cual a una persona le gusta un libro:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">type</span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">julian</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Persona</span>\n<span class=\"token hvariable\">julian</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"Julian\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token hvariable\">esLibroLigero</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">esLibroFantasioso</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">esDe</span> <span class=\"token string\">\"Stephen King\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Y ahora nuestra funciÃ³n leGusta quedarÃ­a:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">leGusta</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">leGusta</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token hvariable\">unaPersona</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">leGustaSegun</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">gustos</span> <span class=\"token hvariable\">unaPersona</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">leGustaSegun</span> <span class=\"token operator\">::</span>  <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span>         <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">leGustaSegun</span>    <span class=\"token hvariable\">unLibro</span>       <span class=\"token hvariable\">unGusto</span>     <span class=\"token operator\">=</span>     <span class=\"token hvariable\">unGusto</span> <span class=\"token hvariable\">unLibro</span></code></pre></div>\n<p>Â¿Que pasa con la funciÃ³n <code class=\"language-text\">leGustaSegun</code>? No tiene demasiada lÃ³gica, y ademÃ¡s es difÃ­cil encontrar un nombre expresivo para esta funciÃ³n auxiliar. Para eso, dentro de Haskell contamos con las <strong>expresiones lambda</strong> o <strong>funciones anÃ³nimas</strong>: funciones sin nombre que usamos para este tipo de casos particulares. Reescribamos la funciÃ³n <code class=\"language-text\">leGusta</code> utilizando lambda:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">leGusta</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">leGusta</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token hvariable\">unaPersona</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">\\</span><span class=\"token hvariable\">unGusto</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">unGusto</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">gustos</span> <span class=\"token hvariable\">unaPersona</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>La lambda estÃ¡ definida entre parÃ©ntesis. En este caso recibe un solo parÃ¡metro, pero podrÃ­a recibir varios. La <code class=\"language-text\">-&gt;</code> indica dÃ³nde terminan los parÃ¡metros y empieza la funciÃ³n. Las expresiones lambda o funciones anÃ³nimas nos sirven para este tipo de casos especÃ­ficos.</p>\n<h2 id=\"links-Ãºtiles\"><a href=\"#links-%C3%BAtiles\" aria-label=\"links Ãºtiles permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Links Ãštiles</h2>\n<ul>\n<li><a href=\"https://gist.github.com/julian-berbel/902aa2942c210c2dbeef3adcf9ec147b\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">SoluciÃ³n del ejercicio de hoy</a></li>\n<li><a href=\"https://docs.google.com/document/d/147cqUY86wWVoJ86Ce0NoX1R78CwoCOGZtF7RugUvzFg/edit#heading=h.pfzudah6sze2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GuÃ­a rÃ¡pida de Git</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=Z1PBoZoQ_pQ\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ResoluciÃ³n de conflictos en Git y VSCode</a></li>\n<li><a href=\"https://drive.google.com/open?id=1rWu_COUxQ2puK1ReqZkclHZ8fWW3x-c6\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Video de la clase</a></li>\n</ul>","frontmatter":{"title":"Quinta clase","date":"04-05-2020","description":"Quinta clase de PdeP","tags":["funcional","data","expresiones-lambda"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/funcional/clase-05/","previous":{"fields":{"slug":"/funcional/clase-04/"},"frontmatter":{"title":"Cuarta clase"}},"next":{"fields":{"slug":"/funcional/clase-06/"},"frontmatter":{"title":"Sexta clase"}}}}}