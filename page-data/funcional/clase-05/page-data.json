{"componentChunkName":"component---src-templates-blog-post-js","path":"/funcional/clase-05/","webpackCompilationHash":"f23ba4374d56e5114c79","result":{"data":{"site":{"siteMetadata":{"title":"Bitácora","author":"pdep"}},"markdownRemark":{"id":"fad8042d-4ee3-5cf7-9f4e-9da53b6b3970","excerpt":"Tarea para la clase que viene: Realizar el TP Monopoly y entregarlo por GitHub. De forma opcional pero muy recomendable se puede hacer la guía de uso de consola…","html":"<h2 id=\"tarea-para-la-clase-que-viene\"><a href=\"#tarea-para-la-clase-que-viene\" aria-label=\"tarea para la clase que viene permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tarea para la clase que viene:</h2>\n<ul>\n<li>Realizar el <a href=\"https://docs.google.com/document/d/1EAN_RC2zngF1jiy4MGCuLvYQvr1euHj1Xx4ORiDh-nE/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TP Monopoly</a> y <strong>entregarlo por GitHub</strong>.</li>\n<li>De forma opcional pero <em>muy recomendable</em> se puede hacer la guía de <a href=\"https://mumuki.io/pdep-utn/chapters/438-control-de-versiones\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">uso de consola y Git de Mumuki</a>.</li>\n<li>También de forma opcional se pueden hacer las guías de Mumuki de <a href=\"https://mumuki.io/pdep-utn/lessons/743-programacion-funcional-expresiones-lambda\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Expresiones Lambda</a> y <a href=\"https://mumuki.io/pdep-utn/lessons/745-programacion-funcional-modelado\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Data</a>.</li>\n</ul>\n<h2 id=\"¿qué-vimos-hoy\"><a href=\"#%C2%BFqu%C3%A9-vimos-hoy\" aria-label=\"¿qué vimos hoy permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>¿Qué vimos hoy?</h2>\n<p>Volvimos al TP de la clase pasada <a href=\"https://docs.google.com/document/d/11uYGXvG-TnNhveawDjKD1iSWKW9Qy8PVqlvtHhV58F8/edit\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">TP “Hora de lectura”</a> para seguir trabajando con él y agregando nuevos ejercicios. 🙌 </p>\n<p>Queremos saber de qué género es un libro. Eso va a depender de:</p>\n<ul>\n<li>Si tiene menos de 50 páginas, es un cómic. 💬</li>\n<li>Si el autor es Stephen King, es de terror. 🤡</li>\n<li>Si el autor es japonés, es un manga. 🗾</li>\n<li>En cualquier otro caso, no sabemos el género. 🤷</li>\n</ul>\n<p>Aprendimos cómo ver si un libro tiene cierta de cantidad de páginas o si es de un autor en especial pero… ¿cómo averiguamos la nacionalidad de un autor? 😅 ¿Deberíamos agregar la nacionalidad del autor en cada libro? ¡Momento ✋! Sólo interesa saber quiénes son de Japón y, como en nuestra solución, el único autor japonés es <em>“Hajime Isayama”</em>, no tendría sentido agregar más información a cada libro. La forma más fácil de resolverlo es con una función:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">esJapones</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Autor</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">esJapones</span> <span class=\"token string\">\"Hajime Isayama\"</span> <span class=\"token operator\">=</span> <span class=\"token constant\">True</span>\n<span class=\"token hvariable\">esJapones</span> <span class=\"token hvariable\">_</span> <span class=\"token operator\">=</span> <span class=\"token constant\">False</span></code></pre></div>\n<p>¡Ya tenemos lo necesario para definir la función <code class=\"language-text\">genero</code>! </p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">genero</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">String</span>\n<span class=\"token hvariable\">genero</span> <span class=\"token hvariable\">unLibro</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token operator\">></span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">cantidadDePaginas</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Comic\"</span>\n  <span class=\"token operator\">|</span> <span class=\"token hvariable\">esDe</span> <span class=\"token string\">\"Stephen King\"</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Terror\"</span>\n  <span class=\"token operator\">|</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">esJapones</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">autor</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Manga\"</span>\n  <span class=\"token operator\">|</span> <span class=\"token builtin\">otherwise</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"No clasificado\"</span></code></pre></div>\n<p>Recordá no olvidarte el <code class=\"language-text\">otherwise</code> cuando utilices guardas ya que es donde entra todo lo que no abarcan las guardas de encima de él. Y, ¿por qué pasa eso? 🤔 Resulta que <code class=\"language-text\">otherwise</code> es un sinónimo de <code class=\"language-text\">True</code>, por lo que siempre se va a poder entrar por esa condición cuando no se no cumplan ninguna de las demás. Utilizamos <code class=\"language-text\">otherwise</code> porque es más expresivo.</p>\n<p>La clase anterior contamos en qué situaciones <strong>no</strong> usar las guardas ❌. Pero el caso de arriba es cuando sí queremos usarlas ✔️. Entonces, ¿cuándo usar guardas y cuando pattern matching? 😩\nUsamos pattern matching cuando tenemos algo que encaja con un patrón, por ejemplo una tupla de 3 elementos, una lista vacía, etc. 🧩\nUsamos guardas cuando queremos evaluar conjuntos de dominios (en matemática, esto es muy similar a las funciones partidas). 🔀</p>\n<p>¡Excelente! Ya tenemos funcionando la función <code class=\"language-text\">genero</code> 🎉. ¿Qué pasa si le mandamos como argumento una tupla que representa a una persona? No debería funcionar porque explicitamos en su tipo que recibía un <code class=\"language-text\">Libro</code>… Veamos qué pasa con la tupla que representa a nuestro querido profe Gus: 👀</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">genero</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"Gustavo\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Trucco\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">28</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">></span> <span class=\"token string\">\"Comic\"</span></code></pre></div>\n<p>¿¡Entonces el profe es un cómic!? 😱 Ya quisiera, pero no lo es. Lo que pasó es que si bien dijimos que <code class=\"language-text\">genero</code> funciona sólo con <code class=\"language-text\">Libro</code>s, un <code class=\"language-text\">Libro</code> es una tupla de tipo <code class=\"language-text\">(String, String, Int)</code>, ¡el mismo tipo que la tupla que representa a una persona! 😅\nRecordá que al usar el type alias, <strong>no estamos creando un nuevo tipo de dato</strong>, sino que le estamos dando un nombre a una estructura que tiene sentido para nuestra solución y así ganar expresividad.</p>\n<p>Entonces, ¿cómo lo solucionamos? 🤨 Creando nuestro propio tipo de dato con <strong>Data</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token constant\">String</span> <span class=\"token constant\">Autor</span> <span class=\"token constant\">Int</span></code></pre></div>\n<p>En donde <code class=\"language-text\">UnLibro</code> es una función que llamamos <strong>constructor</strong> y su tipo es <code class=\"language-text\">UnLibro :: String -&gt; Autor -&gt; Int -&gt; Libro</code>. Es decir, es una función que recibe los parámetros necesarios para crear un libro. </p>\n<p>Modelemos a “El visitante”:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token constant\">UnLibro</span> <span class=\"token string\">\"El visitante\"</span> <span class=\"token string\">\"Stephen King\"</span> <span class=\"token number\">592</span></code></pre></div>\n<p>Si quisiéramos probarlo en la consola, nos tiraría un error porque el data que construimos no es “mostrable” 😩. Es decir, Haskell no sabe cómo mostrar nuestro tipo de dato, pero lo solucionamos escribiendo <code class=\"language-text\">deriving Show</code> al final de la declaración del data: </p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token constant\">String</span> <span class=\"token constant\">Autor</span> <span class=\"token constant\">Int</span> <span class=\"token keyword\">deriving</span> <span class=\"token constant\">Show</span></code></pre></div>\n<p>Y entonces, ¿qué ventajas tenemos al usar data? Porque pareciera ser lo mismo que usar tuplas con el type alias 🙄. La diferencia está en que, con el data, estamos creando nuestro propio tipo de dato y, gracias a eso, vamos a poder restringir a las funciones a que sólo funcionen con el tipo de dato que le decimos. Ahora, <code class=\"language-text\">genero</code> sólo va a recibir <code class=\"language-text\">Libro</code>s, de otra forma, romperá. 💥\nOtra ventaja es que podemos utilizar data con <strong>record syntax</strong> y, de esta forma, nos genera automáticamente los accessors:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">titulo</span> <span class=\"token operator\">::</span> <span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">autor</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Autor</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Int</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">deriving</span> <span class=\"token constant\">Show</span></code></pre></div>\n<p>En este caso tanto <code class=\"language-text\">libro</code> como <code class=\"language-text\">autor</code> y <code class=\"language-text\">cantidadDePaginas</code> son funciones (accessors) que van a acceder a cada elemento del data 🙌. ¿Cómo nos damos cuenta? Porque estamos explicitando el tipo de cada una al momento de crear el tipo de dato.</p>\n<p>En conclusión, ambas sintaxis para definir datas son equivalentes, solo que record syntax nos regala las funciones para acceder a las propiedades. 🎁</p>\n<p>Por otro lado, si queremos comparar una instancia de data con otra, tenemos que decirle a Haskell que queremos que sean comparables. ¿Cómo hacemos eso? Agregando <code class=\"language-text\">Eq</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">data</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">titulo</span> <span class=\"token operator\">::</span> <span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">autor</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Autor</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Int</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">deriving</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Show</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">Eq</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Ahora vamos a modelar la función <code class=\"language-text\">agregarPaginas</code>. ¿Esta función va a modificar al libro original? ¡No! Los data, al igual que todo en funcional, siguen siendo inmutables. Por ende, la función nos devolverá una copia del libro con la cantidad de páginas aumentada.</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">agregarPaginas</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">agregarPaginas</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">UnLibro</span> <span class=\"token hvariable\">unTitulo</span> <span class=\"token hvariable\">unAutor</span> <span class=\"token hvariable\">unaCantidadDePaginas</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">paginasAAgregar</span> <span class=\"token operator\">=</span> <span class=\"token constant\">UnLibro</span> <span class=\"token hvariable\">unTitulo</span> <span class=\"token hvariable\">unAutor</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">unaCantidadDePaginas</span> <span class=\"token operator\">+</span> <span class=\"token hvariable\">paginasAAgregar</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Podemos hacer lo mismo con record syntax:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">agregarPaginas</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">agregarPaginas</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token hvariable\">paginasAAgregar</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">+</span>  <span class=\"token hvariable\">paginasAAgregar</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Es importante destacar que para devolver la nueva cantidad de páginas debemos sumar la cantidad de páginas original. Para eso, utilizamos el accessor <code class=\"language-text\">cantidadDePaginas</code> y es importante pasarle por parámetro <code class=\"language-text\">unLibro</code> para que pueda darnos el valor. No olvidar que <code class=\"language-text\">cantidadDePaginas</code> sigue siendo una función que necesita su parámetro.</p>\n<p>¿Quedan dudas? 😕 ¡Veamos otro ejemplo! Definamos <code class=\"language-text\">sacarSecuela</code>, que agrega un “2” al final del título y cuyas páginas siempre serán 400:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">sacarSecuela</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">sacarSecuela</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">titulo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token operator\">++</span> <span class=\"token string\">\" 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token hvariable\">titulo</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Lo sentís, ¿no? ¡El olor a repetición de lógica! 🤢 En ambas estamos cambiando las páginas de alguna forma. Así que vamos a abstraer esa lógica en la función <code class=\"language-text\">cambiarCantidadDePaginas</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token operator\">::</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token hvariable\">unaFuncion</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unaFuncion</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">cantidadDePaginas</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Ahora la cantidad de páginas se cambia según el criterio (una función) que reciba por parámetro (concepto de <strong>órden superior</strong>). Pero… en <code class=\"language-text\">sacarSecuela</code> no usábamos una función, asignábamos 400 y ¡listo! 😨 ¿Cómo hacemos para utilizar esta nueva función? Con <code class=\"language-text\">const</code>, la cual recibe dos parámetros y siempre se queda con el primero:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">sacarSecuela</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">const</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token operator\"> . </span><span class=\"token hvariable\">cambiarTitulo</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">++</span> <span class=\"token string\">\" 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span></code></pre></div>\n<p>Y ya que estamos… podemos abstraer el cambio de título de forma similar al cambio de cantidad de páginas: 🌚</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">cambiarTitulo</span> <span class=\"token operator\">::</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">String</span> <span class=\"token operator\">-></span> <span class=\"token constant\">String</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">cambiarTitulo</span> <span class=\"token hvariable\">unaFuncion</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token punctuation\">{</span> <span class=\"token hvariable\">titulo</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">unaFuncion</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">titulo</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Nuestras funciones quedarían:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">agregarPaginas</span>' <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Int</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">agregarPaginas</span>' <span class=\"token hvariable\">algunLibro</span> <span class=\"token hvariable\">paginasAAgregar</span> <span class=\"token operator\">=</span> <span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">+</span> <span class=\"token hvariable\">paginasAAgregar</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">algunLibro</span>\n\n<span class=\"token hvariable\">sacarSecuela</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Libro</span>\n<span class=\"token hvariable\">sacarSecuela</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">cambiarCantidadDePaginas</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">const</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token operator\"> . </span><span class=\"token hvariable\">cambiarTitulo</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">++</span> <span class=\"token string\">\" 2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token hvariable\">unLibro</span></code></pre></div>\n<p>Pasemos ahora a modelar a las personas 👩👨. Las cuales tienen un nombre y un conjunto de libros que le gustan:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">type</span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">Libro</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">gustos</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">[</span><span class=\"token constant\">Libro</span><span class=\"token punctuation\">]</span>\n<span class=\"token hvariable\">gustos</span> <span class=\"token hvariable\">unaPersona</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">snd</span> <span class=\"token hvariable\">unaPersona</span></code></pre></div>\n<p>Para saber si a una persona le gusta un libro, definimos la función <code class=\"language-text\">leGusta</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">leGusta</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">leGusta</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token hvariable\">unaPersona</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">==</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">gustos</span> <span class=\"token hvariable\">unaPersona</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>De esta forma asumimos que a una persona siempre le gustan algunos libros. Ahora hagamos un cambio al modelado. En vez de tener los libros que le gustan a la persona, definamos un criterio por el cual a una persona le gusta un libro:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token keyword\">type</span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">String</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">julian</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Persona</span>\n<span class=\"token hvariable\">julian</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"Julian\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token hvariable\">esLibroLigero</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">esLibroFantasioso</span><span class=\"token punctuation\">,</span> <span class=\"token hvariable\">esDe</span> <span class=\"token string\">\"Stephen King\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Y ahora nuestra función leGusta quedaría:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">leGusta</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">leGusta</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token hvariable\">unaPersona</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">leGustaSegun</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">gustos</span> <span class=\"token hvariable\">unaPersona</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token hvariable\">leGustaSegun</span> <span class=\"token operator\">::</span>  <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span>         <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">leGustaSegun</span>    <span class=\"token hvariable\">unLibro</span>       <span class=\"token hvariable\">unGusto</span>     <span class=\"token operator\">=</span>     <span class=\"token hvariable\">unGusto</span> <span class=\"token hvariable\">unLibro</span></code></pre></div>\n<p>¿Que pasa con la función <code class=\"language-text\">leGustaSegun</code>? No tiene demasiada lógica, y además es difícil encontrar un nombre expresivo para esta función auxiliar. Para eso, dentro de Haskell contamos con las <strong>expresiones lambda</strong> o <strong>funciones anónimas</strong>: funciones sin nombre que usamos para este tipo de casos particulares. Reescribamos la función <code class=\"language-text\">leGusta</code> utilizando lambda:</p>\n<div class=\"gatsby-highlight\" data-language=\"haskell\"><pre class=\"language-haskell\"><code class=\"language-haskell\"><span class=\"token hvariable\">leGusta</span> <span class=\"token operator\">::</span> <span class=\"token constant\">Libro</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Persona</span> <span class=\"token operator\">-></span> <span class=\"token constant\">Bool</span>\n<span class=\"token hvariable\">leGusta</span> <span class=\"token hvariable\">unLibro</span> <span class=\"token hvariable\">unaPersona</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">\\</span><span class=\"token hvariable\">unGusto</span> <span class=\"token operator\">-></span> <span class=\"token hvariable\">unGusto</span> <span class=\"token hvariable\">unLibro</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token hvariable\">gustos</span> <span class=\"token hvariable\">unaPersona</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>La lambda está definida entre paréntesis. En este caso recibe un solo parámetro, pero podría recibir varios. La <code class=\"language-text\">-&gt;</code> indica dónde terminan los parámetros y empieza la función. Las expresiones lambda o funciones anónimas nos sirven para este tipo de casos específicos.</p>\n<h2 id=\"links-útiles\"><a href=\"#links-%C3%BAtiles\" aria-label=\"links útiles permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Links Útiles</h2>\n<ul>\n<li><a href=\"https://gist.github.com/julian-berbel/902aa2942c210c2dbeef3adcf9ec147b\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Solución del ejercicio de hoy</a></li>\n<li><a href=\"https://docs.google.com/document/d/147cqUY86wWVoJ86Ce0NoX1R78CwoCOGZtF7RugUvzFg/edit#heading=h.pfzudah6sze2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Guía rápida de Git</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=Z1PBoZoQ_pQ\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Resolución de conflictos en Git y VSCode</a></li>\n<li><a href=\"https://drive.google.com/open?id=1rWu_COUxQ2puK1ReqZkclHZ8fWW3x-c6\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Video de la clase</a></li>\n</ul>","frontmatter":{"title":"Quinta clase","date":"04-05-2020","description":"Quinta clase de PdeP","tags":["funcional","data","expresiones-lambda"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/funcional/clase-05/","previous":{"fields":{"slug":"/funcional/clase-04/"},"frontmatter":{"title":"Cuarta clase"}},"next":{"fields":{"slug":"/funcional/clase-06/"},"frontmatter":{"title":"Sexta clase"}}}}}